<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>다문화 아빠 히어로즈</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div>
                    <div class="logo">🦸🏼‍♂️성남 다문화 아빠 히어로즈</div>
                    <div class="user-name" id="headerUserName">임혜령 아빠님 <span class="user-badge" id="headerUserBadge">🥉</span></div>
                </div>
                <div class="user-info">
                    <div class="points" id="totalPoints">12,000P</div>
                    <div class="user-name">성남사랑상품권</div>
                </div>
            </div>
        </div>

        <div id="homePage" class="page active">
            <div class="widget-preview" onclick="showPage('widgetPage')">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 14px; opacity: 0.9;">📱 위젯 설치하기</div>
                        <div style="font-size: 18px; font-weight: bold; margin-top: 5px;">
                            홈 화면에 바로가기 추가
                        </div>
                    </div>
                    <div style="font-size: 30px;">→</div>
                </div>
            </div>

            <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-bottom: 20px;">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <div id="badgeIcon" style="font-size: 40px;">🥉</div>
                        <div>
                            <div id="currentBadgeTitle" style="font-size: 22px; font-weight: bold; margin-bottom: 5px;">열정부자 아빠</div>
                            <div id="currentBadgeBenefit" style="font-size: 13px; opacity: 0.9;">✨ 멋진 아빠로 성장 중입니다!</div>
                        </div>
                    </div>
                    <button onclick="showBadgeInfo()" style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.5); color: white; padding: 8px 15px; border-radius: 8px; font-size: 13px; cursor: pointer;">
                        배지 컬렉션
                    </button>
                </div>
                
                <div style="background: rgba(0,0,0,0.2); border-radius: 10px; height: 12px; overflow: hidden; margin-bottom: 8px;">
                    <div id="badgeProgress" style="background: linear-gradient(90deg, #CD7F32, #A0522D); height: 100%; width: 40%; transition: width 0.5s;"></div>
                </div>
                
                <div style="display: flex; justify-content: space-between; font-size: 12px; opacity: 0.9;">
                    <span id="badgeProgressText">다음 배지까지 18,000P</span>
                    <span id="nextBadgeInfo">다음: 🥈 파워 아빠</span>
                </div>
            </div>

            <div class="status-card">
                <div style="font-size: 14px; opacity: 0.8; margin-bottom: 5px;">오늘의 미션</div>
                <div style="font-size: 28px; font-weight: bold;">2025년 11월 22일</div>
                <div style="background: rgba(255,255,255,0.2); border-radius: 15px; padding: 20px; margin-top: 15px;" id="todayStatus">
                    <div style="font-weight: bold; font-size: 18px; margin-bottom: 10px;">
                        오늘 미션을 선택해주세요! 💪🏼
                    </div>
                    <div style="background: rgba(255,255,255,0.3); height: 10px; border-radius: 10px; overflow: hidden;">
                        <div id="todayProgress" style="background: linear-gradient(90deg, #4ade80, #3b82f6); height: 100%; width: 0%; transition: width 0.5s;"></div>
                    </div>
                    <div style="font-size: 14px; margin-top: 10px;">
                        <span id="todayCount">0</span> 미션 완료
                    </div>
                </div>
            </div>

            <div class="section-title">⭐ 오늘의 3-Color 미션</div>
            <div class="mission-card pink">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                    <div style="font-size: 32px;">💖</div>
                    <div>
                        <div style="font-size: 20px; font-weight: bold;">핑크 미션</div>
                        <div style="opacity: 0.9;">To. 아내</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('pink', 'easy')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">1분 칭찬하기</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">키워드 조합하여 애정 표현하기</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">쉬움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 1,000P</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('pink', 'medium')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">10분 함께하기</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">아내 모국어로 애정 표현 배우기</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">보통</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 2,000P</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('pink', 'hard')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">30분 데이트</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">자녀 잠시 맡기고 부부 동네 산책</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">어려움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 3,000P</div>
                    </div>
                </div>
            </div>
            <div class="mission-card green">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                    <div style="font-size: 32px;">💚</div>
                    <div>
                        <div style="font-size: 20px; font-weight: bold;">그린 미션</div>
                        <div style="opacity: 0.9;">To. 자녀</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('green', 'easy')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">비행기 태우기</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">번쩍 들어 비행기 태우기</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">쉬움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 1,000P</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('green', 'medium')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">간식 타임</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">자녀와 간식 먹으며 오늘 일상 대화</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">보통</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 2,000P</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('green', 'hard')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">놀이터 가기</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">밖에서 같이 배드민턴/축구 시합</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">어려움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 3,000P</div>
                    </div>
                </div>
            </div>
            <div class="mission-card yellow">
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 15px;">
                    <div style="font-size: 32px;">💛</div>
                    <div>
                        <div style="font-size: 20px; font-weight: bold;">옐로우 미션</div>
                        <div style="opacity: 0.9;">To. 가족</div>
                    </div>
                </div>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('yellow', 'easy')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">단톡방 활성화</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">가족 단톡방에 재미있는 사진 공유</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">쉬움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 1,000P</div>
                    </div>
                     <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('yellow', 'medium')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">라면 요리사</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">주말 아침, 아빠가 라면 요리사 되기</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">보통</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 2,000P</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.2); border-radius: 12px; padding: 15px; cursor: pointer; transition: all 0.3s;" onclick="selectMission('yellow', 'hard')" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div>
                                <div style="font-weight: bold;">대청소 데이</div>
                                <div style="font-size: 13px; opacity: 0.85; margin-top: 5px;">다 같이 대청소하고 배달 음식 시켜먹기</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.3); padding: 4px 10px; border-radius: 12px; font-size: 11px;">어려움</div>
                        </div>
                        <div style="margin-top: 10px; font-size: 14px;">⭐ 3,000P</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="gamesPage" class="page">
             <div class="section-title">🎮 가족 소통 게임</div>
            <div style="font-size: 14px; opacity: 0.8; margin-bottom: 20px;">
                💡 가족과 함께하는 재미있는 게임으로 유대감을 높여보세요!
            </div>
            <div class="game-card" onclick="showGame('quiz')">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">🎯 가족 Quiz</div>
                        <div style="font-size: 14px; opacity: 0.8;">서로를 얼마나 알고 있는지 확인</div>
                    </div>
                    <div style="font-size: 30px;">→</div>
                </div>
            </div>
            <div class="game-card" onclick="showGame('roleSwap')">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">🔄 역할 교환 게임</div>
                        <div style="font-size: 14px; opacity: 0.8;">서로의 입장이 되어보기</div>
                    </div>
                    <div style="font-size: 30px;">→</div>
                </div>
            </div>
            <div class="game-card" onclick="showGame('empathy')">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">💬 그랬구나~ 게임</div>
                        <div style="font-size: 14px; opacity: 0.8;">경청과 공감 연습하기</div>
                    </div>
                    <div style="font-size: 30px;">→</div>
                </div>
            </div>
            <div class="game-card" onclick="showGame('interview')">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 20px; font-weight: bold; margin-bottom: 5px;">🎤 가족 인터뷰</div>
                        <div style="font-size: 14px; opacity: 0.8;">서로에 대해 더 알아가기</div>
                    </div>
                    <div style="font-size: 30px;">→</div>
                </div>
            </div>
        </div>

        <div id="communityPage" class="page">
             <div class="section-title">💬 아빠들의 커뮤니티</div>
            
            <button class="btn-primary" onclick="showWritePost()">✏️ 새 글 쓰기</button>

            <div id="postsList">
                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">김</div>
                        <div>
                            <div style="font-weight: bold; display: flex; align-items: center; gap: 5px;">김성남 아빠 <span class="user-badge">🥉</span></div>
                            <div style="font-size: 12px; opacity: 0.7;">5분 전</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; margin-bottom: 8px;">오늘 처음으로 핑크 미션 완료했어요! 🎉</div>
                        <div style="font-size: 14px; line-height: 1.5;">
                            솔직히 처음엔 쑥스러웠는데, 아내가 엄청 좋아하더라구요. 
                            "당신 진짜 사랑해" 한마디에 아내 눈물 글썽... 
                            이렇게 간단한 말 한마디가 이렇게 큰 힘이 될 줄 몰랐어요!
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; font-size: 13px; opacity: 0.8;">
                        <span>❤️ 12</span>
                        <span>💬 3</span>
                    </div>
                    <div class="comment-section">
                        <div class="comment">
                            <strong>이분당:</strong> 저도 오늘 해봤는데 정말 좋더라구요! 👍
                        </div>
                        <div class="comment">
                            <strong>박판교:</strong> 대단하세요! 저도 용기내서 해봐야겠어요
                        </div>
                    </div>
                </div>
                 <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">이</div>
                        <div>
                             <div style="font-weight: bold; display: flex; align-items: center; gap: 5px;">이수정 아빠 <span class="user-badge">🏅</span></div>
                            <div style="font-size: 12px; opacity: 0.7;">1시간 전</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; margin-bottom: 8px;">가족 Quiz 게임 추천합니다!</div>
                        <div style="font-size: 14px; line-height: 1.5;">
                            어제 저녁에 온 가족이 모여서 가족 Quiz 했는데요, 
                            아내가 좋아하는 꽃이 뭔지도 몰랐던 제 자신이 부끄럽더라구요 😅
                            앞으로 더 관심 가져야겠어요!
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; font-size: 13px; opacity: 0.8;">
                        <span>❤️ 8</span>
                        <span>💬 2</span>
                    </div>
                </div>

                <div class="post-card">
                    <div class="post-header">
                        <div class="post-avatar">최</div>
                        <div>
                             <div style="font-weight: bold; display: flex; align-items: center; gap: 5px;">최중원 아빠 <span class="user-badge">🥈</span></div>
                            <div style="font-size: 12px; opacity: 0.7;">3시간 전</div>
                        </div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: bold; margin-bottom: 8px;">이번 주 연속 7일 달성! 🏆</div>
                        <div style="font-size: 14px; line-height: 1.5;">
                            처음에는 '내가 할 수 있을까?' 했는데, 
                            이제는 미션 안 하면 뭔가 허전해요. 
                            가족들도 아빠가 달라졌다고 좋아하네요 ㅎㅎ
                        </div>
                    </div>
                    <div style="display: flex; gap: 15px; font-size: 13px; opacity: 0.8;">
                        <span>❤️ 25</span>
                        <span>💬 5</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="diaryPage" class="page">
             <div class="section-title">📔 나의 미션 다이어리</div>
            <div style="font-size: 14px; opacity: 0.8; margin-bottom: 20px;">
                💝 완료한 미션의 소중한 기록들이에요
            </div>

            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <button class="tab-btn active" onclick="switchDiaryTab('timeline')">📜 타임라인</button>
                <button class="tab-btn" onclick="switchDiaryTab('calendar')">📅 캘린더</button>
            </div>

            <div id="diaryTimelineView">
                <div id="diaryEntries">
                </div>

                <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin-top: 20px; text-align: center;">
                    <div style="font-size: 14px; opacity: 0.9; line-height: 1.6;">
                        💡 <strong>다이어리 팁</strong><br>
                        완료한 미션들을 돌아보며 가족과의 소중한 순간을 추억해보세요.<br>
                        가족에게 다이어리를 보여주며 대화를 시작하는 것도 좋아요!
                    </div>
                </div>
            </div>

            <div id="diaryCalendarView" style="display: none;">
                 <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 15px;">
                    <button onclick="changeMonth(-1)" style="background: rgba(255,255,255,0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 18px;">‹</button>
                    <div id="calendarMonthTitle" style="font-size: 20px; font-weight: bold;">2025년 11월</div>
                    <button onclick="changeMonth(1)" style="background: rgba(255,255,255,0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 18px;">›</button>
                </div>

                <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; margin-bottom: 20px;">
                    <div style="text-align: center; padding: 10px; font-weight: bold; color: #ef4444;">일</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold;">월</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold;">화</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold;">수</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold;">목</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold;">금</div>
                    <div style="text-align: center; padding: 10px; font-weight: bold; color: #3b82f6;">토</div>
                </div>
                
                <div id="calendarGrid" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px;">
                </div>

                <div id="selectedDateMissions" style="margin-top: 20px;">
                    <div style="text-align: center; opacity: 0.7; padding: 40px;">
                        📅 날짜를 선택하면 그 날의 미션을 볼 수 있어요!
                    </div>
                </div>
            </div>
        </div>

        <div id="progressPage" class="page">
            <div class="section-title">📊 나의 성장 기록</div>

            <div class="tab-nav">
                <button class="tab-btn active" onclick="switchProgressTab('week')">주간</button>
                <button class="tab-btn" onclick="switchProgressTab('month')">월간</button>
            </div>

            <div id="weekProgressView">
                <div class="progress-section">
                    <h3 style="font-size: 18px; margin-bottom: 15px;">이번 주 (11/18 - 11/24)</h3>
                    <div class="week-days">
                        <div style="text-align: center;">
                            <div class="day-circle completed">✓</div>
                            <div style="font-size: 11px; opacity: 0.7;">월</div>
                        </div>
                        <div style="text-align: center;">
                            <div class="day-circle completed">✓</div>
                            <div style="font-size: 11px; opacity: 0.7;">화</div>
                        </div>
                        <div style="text-align: center;">
                            <div class="day-circle pending" id="wedDay"></div>
                            <div style="font-size: 11px; opacity: 0.7;">수</div>
                        </div>
                         <div style="text-align: center;">
                            <div class="day-circle pending"></div>
                            <div style="font-size: 11px; opacity: 0.7;">목</div>
                        </div>
                        <div style="text-align: center;">
                            <div class="day-circle pending"></div>
                            <div style="font-size: 11px; opacity: 0.7;">금</div>
                        </div>
                        <div style="text-align: center;">
                            <div class="day-circle pending"></div>
                            <div style="font-size: 11px; opacity: 0.7;">토</div>
                        </div>
                        <div style="text-align: center;">
                            <div class="day-circle pending"></div>
                            <div style="font-size: 11px; opacity: 0.7;">일</div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.3); height: 10px; border-radius: 10px; overflow: hidden; margin-top: 20px;">
                        <div id="weekProgressBar" style="background: linear-gradient(90deg, #4ade80, #3b82f6); height: 100%; width: 28.5%; transition: width 0.5s;"></div>
                    </div>
                    <div style="text-align: center; margin-top: 15px;">
                        <span style="color: #4ade80; font-weight: bold; font-size: 18px;" id="weekCompletedCount">2</span>
                        <span style="opacity: 0.8;">/7 완료</span>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div style="font-size: 32px;">💖</div>
                        <div class="stat-value" id="pinkCount">1</div>
                        <div class="stat-label">핑크 미션</div>
                    </div>
                    <div class="stat-card">
                        <div style="font-size: 32px;">💚</div>
                        <div class="stat-value" id="greenCount">1</div>
                        <div class="stat-label">그린 미션</div>
                    </div>
                    <div class="stat-card">
                        <div style="font-size: 32px;">💛</div>
                        <div class="stat-value" id="yellowCount">0</div>
                        <div class="stat-label">옐로우 미션</div>
                    </div>
                    <div class="stat-card">
                        <div style="font-size: 32px;">🏆</div>
                        <div class="stat-value" id="totalMissions">2</div>
                        <div class="stat-label">총 완료</div>
                    </div>
                </div>
            </div>

             <div id="monthProgressView" style="display: none;">
                <div class="progress-section">
                    <h3 style="font-size: 18px; margin-bottom: 15px;">11월 진행 상황</h3>
                    <div class="chart-container">
                        <div class="bar-chart">
                            <div class="bar" style="height: 60%;">
                                <div class="bar-label">1주차</div>
                            </div>
                            <div class="bar" style="height: 80%;">
                                <div class="bar-label">2주차</div>
                            </div>
                            <div class="bar" style="height: 40%;">
                                <div class="bar-label">3주차</div>
                            </div>
                            <div class="bar" style="height: 28%;">
                                <div class="bar-label">4주차</div>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 20px; font-size: 14px;">
                        이번 달 <span style="color: #4ade80; font-weight: bold; font-size: 18px;">15</span>개 미션 완료
                    </div>
                </div>

                <div class="progress-section">
                    <h3 style="font-size: 18px; margin-bottom: 15px;">월별 성장 추이</h3>
                     <div style="font-size: 14px; opacity: 0.8; margin-bottom: 15px;">
                        꾸준히 성장하고 있어요! 🚀
                    </div>
                    <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; margin: 10px 0;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>9월</span>
                            <span style="font-weight: bold;">8개 미션</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 10px; overflow: hidden;">
                            <div style="background: #4ade80; height: 100%; width: 30%;"></div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; margin: 10px 0;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>10월</span>
                            <span style="font-weight: bold;">18개 미션</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 10px; overflow: hidden;">
                            <div style="background: #4ade80; height: 100%; width: 65%;"></div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); border-radius: 10px; padding: 15px; margin: 10px 0;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>11월 (진행중)</span>
                            <span style="font-weight: bold; color: #4ade80;">15개 미션</span>
                        </div>
                        <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 10px; overflow: hidden;">
                            <div style="background: linear-gradient(90deg, #4ade80, #10b981); height: 100%; width: 54%; animation: pulse 2s infinite;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="widgetPage" class="page">
             <div class="back-header">
                <button class="back-btn" onclick="showPage('homePage')">← 돌아가기</button>
                <h2 style="font-size: 22px; font-weight: bold;">위젯 설정</h2>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 20px; padding: 25px; margin-bottom: 20px;">
                <div style="font-size: 20px; font-weight: bold; margin-bottom: 15px;">📱 홈 화면 위젯</div>
                <div style="font-size: 14px; line-height: 1.6; opacity: 0.9;">
                    위젯을 설치하면 홈 화면에서 바로 오늘의 미션과 진행률을 확인할 수 있어요!
                </div>
            </div>

            <div style="background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 20px; padding: 20px; margin-bottom: 20px;">
                <div style="font-size: 16px; font-weight: bold; margin-bottom: 10px;">위젯 미리보기</div>
                <div style="background: rgba(255,255,255,0.2); border-radius: 15px; padding: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <div>
                            <div style="font-size: 12px; opacity: 0.8;">오늘의 미션</div>
                            <div style="font-size: 20px; font-weight: bold;">11월 22일</div>
                        </div>
                        <div style="font-size: 24px; font-weight: bold; color: #ffd700;">12,000P</div>
                    </div>
                    <div style="background: rgba(0,0,0,0.2); height: 8px; border-radius: 10px; overflow: hidden;">
                        <div style="background: #4ade80; height: 100%; width: 28.5%;"></div>
                    </div>
                    <div style="text-align: center; margin-top: 10px; font-size: 13px;">
                        이번 주 2/7 완료
                    </div>
                </div>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin-bottom: 15px;">
                <div style="font-size: 16px; font-weight: bold; margin-bottom: 15px;">📲 설치 방법</div>
                <div style="font-size: 14px; line-height: 1.8;">
                    <div style="margin-bottom: 12px;">
                        <strong>1.</strong> 브라우저 메뉴(⋮) 열기
                    </div>
                    <div style="margin-bottom: 12px;">
                        <strong>2.</strong> "홈 화면에 추가" 선택
                    </div>
                    <div style="margin-bottom: 12px;">
                        <strong>3.</strong> "추가" 버튼 클릭
                    </div>
                    <div>
                        <strong>4.</strong> 홈 화면에서 위젯 확인!
                    </div>
                </div>
            </div>

            <button class="btn-primary" onclick="alert('브라우저 메뉴에서 \'홈 화면에 추가\'를 선택해주세요!')">
                📱 홈 화면에 추가하기
            </button>
        </div>

        <div class="bottom-nav">
            <button class="nav-btn active" onclick="navigateTo('homePage', this)">
                <div class="nav-icon">🏠</div>
                <div>홈</div>
            </button>
            <button class="nav-btn" onclick="navigateTo('gamesPage', this)">
                <div class="nav-icon">🎮</div>
                <div>게임</div>
            </button>
            <button class="nav-btn" onclick="navigateTo('diaryPage', this)">
                <div class="nav-icon">📔</div>
                <div>다이어리</div>
            </button>
            <button class="nav-btn" onclick="navigateTo('communityPage', this)">
                <div class="nav-icon">💬</div>
                <div>커뮤니티</div>
            </button>
            <button class="nav-btn" onclick="navigateTo('progressPage', this)">
                <div class="nav-icon">📊</div>
                <div>진행률</div>
            </button>
        </div>
    </div>

    <div id="missionModal" class="modal">
        <div class="modal-content">
            <button class="back-btn" onclick="closeMissionModal()">← 돌아가기</button>
            
            <div id="missionHeader" style="border-radius: 15px; padding: 25px; margin: 20px 0;"></div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px;">
                <h3 style="font-size: 18px; margin-bottom: 20px;">📸 미션 인증</h3>

                <div style="margin-bottom: 15px;">
                    <label class="input-label">📸 인증샷 업로드</label>
                    <div class="photo-upload-box" onclick="document.getElementById('missionPhotoInput').click()">
                        <div id="uploadPlaceholder">
                            <div style="font-size: 30px; margin-bottom: 10px;">📷</div>
                            <div style="font-size: 14px; opacity: 0.8;">터치하여 사진을 등록해주세요</div>
                        </div>
                        <img id="imagePreview" class="preview-image" src="" alt="미션 인증샷">
                    </div>
                    <input type="file" id="missionPhotoInput" hidden accept="image/*" onchange="previewImage(this)">
                </div>

                <div id="keywordSection" style="display: none; margin-bottom: 20px;">
                    <div style="font-weight: bold; margin-bottom: 10px;">💝 키워드 조합 메시지</div>
                    <div class="keyword-grid">
                        <button class="keyword-btn" onclick="toggleKeyword(this, '사랑해')">사랑해</button>
                        <button class="keyword-btn" onclick="toggleKeyword(this, '고마워')">고마워</button>
                        <button class="keyword-btn" onclick="toggleKeyword(this, '예쁘다')">예쁘다</button>
                        <button class="keyword-btn" onclick="toggleKeyword(this, '최고야')">최고야</button>
                        <button class="keyword-btn" onclick="toggleKeyword(this, '행복해')">행복해</button>
                        <button class="keyword-btn" onclick="toggleKeyword(this, '소중해')">소중해</button>
                    </div>
                    <div id="generatedMessage" style="background: linear-gradient(135deg, #ec4899, #db2777); border-radius: 12px; padding: 20px; margin: 15px 0; font-size: 18px; font-weight: bold; text-align: center; min-height: 80px; display: flex; align-items: center; justify-content: center;">
                        키워드를 선택해주세요 💖
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="input-label">가족의 반응</label>
                    <textarea id="familyResponse" rows="3" placeholder="가족이 뭐라고 했나요?"></textarea>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="input-label">나의 재반응</label>
                    <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 12px; margin-bottom: 10px; font-size: 13px;">
                        <div style="color: #4ade80; margin-bottom: 5px;">✅ "그렇게 말해줘서 고마워^^"</div>
                        <div style="color: #f87171;">❌ "당연한 거지"</div>
                    </div>
                    <textarea id="myResponse" rows="3" placeholder="가족의 말에 어떻게 응답했나요?"></textarea>
                </div>

                <button class="btn-primary" onclick="completeMission()">✓ 미션 완료!</button>
            </div>
        </div>
    </div>

    <div id="gameModal" class="modal">
        <div class="modal-content" id="gameContent"></div>
    </div>

    <div id="writePostModal" class="modal">
        <div class="modal-content">
            <button class="back-btn" onclick="closeWritePost()">← 취소</button>
            <h2 style="font-size: 22px; font-weight: bold; margin: 20px 0;">✏️ 새 글 쓰기</h2>
            
            <div class="input-group">
                <label class="input-label">제목</label>
                <input type="text" id="postTitle" placeholder="제목을 입력하세요">
            </div>

            <div class="input-group">
                <label class="input-label">내용</label>
                <textarea id="postContent" rows="6" placeholder="내용을 입력하세요"></textarea>
            </div>

            <button class="btn-primary" onclick="submitPost()">📝 글 등록하기</button>
        </div>
    </div>

    <div id="celebration" class="celebration">
        <div style="text-align: center;">
            <div style="font-size: 120px; animation: pulse 1s infinite;">🏆</div>
            <h2 style="font-size: 40px; font-weight: bold; margin: 20px 0;">미션 완료!</h2>
            <div id="earnedPoints" style="font-size: 32px; color: #ffd700; font-weight: bold;">+1,000P</div>
            <div style="font-size: 18px; margin-top: 10px; opacity: 0.8;">오늘도 멋진 아빠! 🎉</div>
        </div>
    </div>

    <div id="levelInfoModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0;">🏆 배지 컬렉션</h2>
                <span class="close-btn" onclick="closeLevelInfo()">&times;</span>
            </div>

            <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 20px; margin-bottom: 20px;">
                <div style="font-size: 16px; line-height: 1.8; opacity: 0.9;">
                    미션을 완료하여 포인트를 쌓고 명예로운 배지를 획득하세요!<br>
                    획득한 배지는 커뮤니티에서 닉네임 옆에 표시되며,<br>
                    <strong>슈퍼 아빠를 증명하는 훈장</strong>입니다.
                </div>
            </div>

            <div style="display: flex; flex-direction: column; gap: 15px;">
                <div class="post-card" style="background: linear-gradient(135deg, #718096, #4A5568);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">🌱</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">입문 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">0P ~ 999P</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #cbd5e0;">시작이 반!</div>
                    </div>
                </div>

                <div class="post-card" style="background: linear-gradient(135deg, #94A3B8, #64748B);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">🌿</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">새내기 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">1,000P 달성 시</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #f87171;">첫 걸음 달성!</div>
                    </div>
                </div>

                <div class="post-card" style="background: linear-gradient(135deg, #CD7F32, #A0522D);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">🌷</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">열정부자 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">10,000P 달성 시</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #fbbf24;">뜨거운 열정!</div>
                    </div>
                </div>

                <div class="post-card" style="background: linear-gradient(135deg, #C0C0C0, #A9A9A9);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">🌳</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">파워 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">30,000P 달성 시</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #fbbf24;">강력한 아빠 파워!</div>
                    </div>
                </div>

                <div class="post-card" style="background: linear-gradient(135deg, #FFD700, #FFA500);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">🍎</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">슈퍼히어로 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">50,000P 달성 시</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #ef4444;">우리집 영웅!</div>
                    </div>
                </div>

                 <div class="post-card" style="background: linear-gradient(135deg, #8B5CF6, #7C3AED);">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 24px;">👑</span>
                            <div>
                                <div style="font-size: 18px; font-weight: bold;">전설의 아빠</div>
                                <div style="font-size: 13px; opacity: 0.9; margin-top: 5px;">100,000P 달성 시</div>
                            </div>
                        </div>
                        <div style="font-size: 14px; font-weight: bold; color: #22c55e;">최고의 명예!</div>
                    </div>
                </div>
            </div>

            <button class="btn-primary" onclick="closeLevelInfo()" style="margin-top: 20px;">확인</button>
        </div>
    </div>

    <script src="js/script.js"></script>
</body>
</html>
